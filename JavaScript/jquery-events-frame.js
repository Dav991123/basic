(function(a,b){function c(f,g){function h(){i.frameCount++,f.call(i)}var j,i=this;this.frameDuration=g||25,this.frameCount=-1,this.start=function(){h(),j=setInterval(h,this.frameDuration)},this.stop=function(){clearInterval(j),j=null}}function d(){var f=a.event.special.frame.handler,g=a.Event("frame"),h=this.array,i=h.length;for(g.frameCount=this.frameCount;i--;)f.call(h[i],g)}var e;a.event.special.frame||(a.event.special.frame={setup:function(f){if(e)e.array.push(this);else{e=new c(d,f&&f.frameDuration),e.array=[this];var h=setTimeout(function(){e.start(),clearTimeout(h),h=null},0)}},teardown:function(){for(var g=e.array,h=g.length;h--;)if(g[h]===this){g.splice(h,1);break}0===g.length&&(e.stop(),e=b)},handler:function(){a.event.handle.apply(this,arguments)}})})(jQuery);
